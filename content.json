{"meta":{"title":"Jeff'blogs","subtitle":"乐于分享","description":"专注Linux30年","author":"张楠","url":"https://github.com/nange-Blog/nange-Blog.github.io"},"pages":[{"title":"categories","date":"2017-08-08T09:24:32.000Z","updated":"2017-08-08T13:39:48.752Z","comments":true,"path":"categories/index.html","permalink":"https://github.com/nange-Blog/nange-Blog.github.io/categories/index.html","excerpt":"","text":"正在更新。。。"},{"title":"tags","date":"2017-08-08T09:06:06.000Z","updated":"2017-08-08T13:39:31.027Z","comments":true,"path":"tags/index.html","permalink":"https://github.com/nange-Blog/nange-Blog.github.io/tags/index.html","excerpt":"","text":"yum shell脚本 Apache"},{"title":"about","date":"2017-08-08T09:05:56.000Z","updated":"2017-08-08T13:40:02.066Z","comments":true,"path":"about/index.html","permalink":"https://github.com/nange-Blog/nange-Blog.github.io/about/index.html","excerpt":"","text":"####基本信息 姓名: 张楠 性别： 男 身高： 180cm 籍贯：山西 联系方式：18600608634 所学专业：通信 ####自我评价为人诚恳,性格开朗,自学能力强,心理素质较好,为人乐观,具有良好的团队协作精神,能很快融入群体生活。说到做到,绝不推卸责任;有自制力,做事有始有终。 ####精通技能关于所有Linux操作，专业Linux运维30年。。。"}],"posts":[{"title":"disk manager","slug":"first","date":"2017-08-08T08:30:28.000Z","updated":"2017-08-08T13:38:09.429Z","comments":true,"path":"2017/08/08/first/","link":"","permalink":"https://github.com/nange-Blog/nange-Blog.github.io/2017/08/08/first/","excerpt":"","text":"###磁盘管理命令 lsblk:列出块设备 创建分区： fdisk 创建MBR分区 gdisk 创建GPT分区 parted 高级分区操作 ###分区工具 gfisk /dev/sdb 类fdisk 的GPT 分区工具 fdisk -l [-u] [device…] 查看分区 fdisk /dev/sdb 管理分区 查看内核是否已经识别新的分区： cat /proc/partations centos6通知内核重新读取硬盘分区表 新增分区 part -a /dev/devicekpartx -a /dev/device -f force删除分区partx -d –nr M-N /dev/device 如果是连续的，不连续的一个一个删 centos5 7：使用partprobepartprobe [/dev/device] 不加表示同步所有的 没有文件系统的设备是无法挂载的 创建文件系统 mkfs mkfs.fs_type /dev/device ext4 xfs btrfs vfat 或者: mkfs -t fs_type /dev/device -L ‘LABEL’:设定卷标 mke2fs:ext文件系统专用123456789101112-t &#123;ext2|ext3|ext4&#125;-b &#123;1024|2048|4096&#125;-L &apos;LABEL&apos;-j: 于 相当于 -t ext3mkfs.ext3 = mkfs -t ext3 = mke2fs -j = mke2fs -t ext3-i #: 为数据空间中每多少个字节创建一个inode ；此大小不应该小于block 的大小-N # ：指定分区中创建多少个inode-I 一个inode 记录占用的磁盘空间大小，128---4096-m #: 默认5%, 为管理人员预留空间占总空间的百分比-O FEATURE[,...] ：启用指定特性-O ^FEATURE ：关闭指定特性 blkid:块设备属性信息查看 -U UUID: 根据指定的UUID 来查找对应的设备 -L LABEL ：根据指定的LABEL 来查找对应的设备 findfs ：查找分区 findfs [options] LABEL=\\ findfs [options] UUID=\\12345678tune2fs ：重新设定ext 系列文件系统可调整参数的值-l ：查看指定文件系统超级块信息；super block-L &apos;LABEL&apos; ：修改卷标-m # ：修预留给管理员的空间百分比-j: 将ext2 升级为ext3-O: 文件系统属性启用或禁用, –O ^has_journal-o: 调整文件系统的默认挂载选项，–o ^acl-U UUID: 修改UUID号 ##文件系统检查与修复常发生于死机或者非正常关机之后 挂载为文件系统标记为“no clean” ” 注意：一定不要在挂载状态下修复123456789fsck: File System Checkfsck.FS_TYPEfsck -t FS_TYPE-p: 自动修复错误-r: 交互式修复错误FS_TYPE 一定要与分区上已经文件类型相同e2fsck ：ext 系列文件专用的检测修复工具-y ：自动回答为yes-f ：强制修复 ##mount挂载文件系统mount选项123456789-t vsftype ：指定要挂载的设备上的文件系统类型-r: readonly ，只读挂载-w: read and write, 读写挂载-n: 不更新/etc/mtab ，mount 不可见-a ：自动挂载所有支持自动挂载的设备( 定义在了/etc/fstab文件中，且挂载选项中有auto 功能)-L &apos;LABEL&apos;: 以卷标指定挂载设备-U &apos;UUID&apos;: 以UUID 指定要挂载的设备-B, --bind: 绑定目录到另一个目录上查看内核追踪到的已挂载的所有设备cat /proc/mounts mount -o 选项12345678910111213141516-o options ：( 挂载文件系统的选项) ，多个选项使用逗号分隔async ：异步模式sync ：同步模式, 内存更改时，同时写磁盘atime/noatime ：包含目录和文件diratime/nodiratime ：目录的访问时间戳auto/noauto ：是否支持自动挂载, 是否支持-a 选项exec/noexec ：是否支持将文件系统上运行应用程序dev/nodev ：是否支持在此文件系统上使用设备文件suid/nosuid ：不否支持suid 和sgid 权限remount ：重新挂载ro ：只读rw： ： 读写user/nouser ：是否允许普通用户挂载此设备，/etc/fstab 使用acl ：启用此文件系统上的acl 功能loop: 使用loop 设备defaults ：相当于rw, nosuid, dev, exec, auto, nouser, async ##卸载命令查看挂载情况 findmnt MOUNT_POINT|device 查看正在访问指定文件系统的进程 lsof MOUNT_POINT fuser -v MOUNT_POINT 终止所有在正访问指定的文件系统的进程 fuser -km MOUNT_POINT 卸载 umount DEVICE 或umount MOUNT_POINT","categories":[{"name":"linux运维","slug":"linux运维","permalink":"https://github.com/nange-Blog/nange-Blog.github.io/categories/linux运维/"}],"tags":[{"name":"disk","slug":"disk","permalink":"https://github.com/nange-Blog/nange-Blog.github.io/tags/disk/"}]}]}